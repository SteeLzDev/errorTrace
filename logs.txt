GEFI-4452

[Back] Consulta do histórico de antecipações

Descrição: 

DoD:

Mapear endpoint GET /history e GET /history/{id} no swagger e disponibilizar para o frontend;
Implementar endpoint GET /history e GET /history/{id};
Implementar integração com endpoint da Antecipa que irá retornar o histórico de antecipações;
GET /Originators/CardReceivables/Anticipations/{SupplierDocument}
GET /Originators/CardReceivables/Anticipations/{SupplierDocument}/{Id}


GEFI-4282

[Back] Webhook - Status da Antecipação

Descrição: 

DoD:

Reaproveitar o webhook criado no onboarding e mapear endpoint no swagger junto com o time da Antecipa/CERC;
Receber o payload do Antecipa, adaptar (se necessário) e repassar para a fila;
Implementar a fila no Domain para receber o evento e atualizar o status no banco de dados.


GEFI-4267

[Back] Confirmação de proposta

Descrição:

DoD:

Mapear endpoint POST /proposal no swagger e disponibilizar para o frontend;
Implementar POST /proposal;
Integração com endpoint da Antecipa que irá confirmar o pedido da Antecipacão utilizando o ID da proposta retornada pela simulação (Integração já foi mapeada);
Salvar os dados do pedido no banco de dados; (Definir quais dados vamos salvar no DB)


GEFI-4130

[Back] Simulação dos recebíveis antecipáveis

Descrição:

DoD:

Mapear endpoint POST /simulate no swagger e disponibilizar para o frontend;
Implementar POST /simulate;
Integração com endpoint da Antecipa que irá retornar a simulação dos recebíveis antecipáveis (Integração já foi mapeada);
Payload de exemplo:
POST /simulate
    Body: {
        "receivables": [
            "f63985b1-619d-4514-ab19-bd1ec6f69ab0",
            "..."
        ]
    }
    Response: 200 OK
    Body: {
        Em definição...
    }



GEFI-4450

[Back] Consulta de recebíveis antecipáveis

Descrição:

DoD:

Mapear endpoint GET /receivables no swagger e disponibilizar para o frontend;
Implementar endpoint GET /receivables;
Integração com endpoint da Antecipa que irá retornar os recebíveis antecipáveis (Integração já foi mapeada);
Ex:
GET /receivables?limit=10&offset=1
    Response: 200 OK
    Body: {
        "content": [
            {
                "id": "f63985b1-619d-4514-ab19-bd1ec6f69ab0",
                "paymentDate": "2025-07-22",
                "nationalRegistrationId": "18772021000190",
                "accreditingInstitutionName": "Cielo",
                "paymentType": "CREDIT_SINGLE", #Enum [ "CREDIT_SINGLE", "CREDIT_INSTALLMENT"  ]
                "installment": {
                    "count" : 3,
                    "number": 1,
                    "amount": 1534.45
                },
                "discount": 50.00,
                "amountToReceive": 1484.45
            }
        ],
        "page": {
            "size": 10,
            "totalElements": 50,
            "totalPages": 5,
            "number": 1
        }
    }


GEGI-4450

[Back] Onboarding - Implementação da fila de status


Descrição:

DoD:

Criação e consumo da fila para receber dados de status; 
Persistir dados no banco;



GEFI-4170

[Back] Onboarding - Webhook



Descrição:


Objetivos

Construir webhook para recepcionar todas alterações de cadastros de CNPJs da CERC
Definir com a CERC quais dados podem ser recebidos.

DoD:

 Criar Apigee + Microgateway
 Criar cadastro no gearr
 Solicitar veracode
 Realizar cadastro no IAM
 Definir contrato de Swagger com a Antecipa/CERC (Dan + Davi + Time antecipa)
 Criar repositório no bitbucket
 Implementar endpoint definido no swagger. Ex: POST /onboarding-status
 Implementar envio dos dados recebidos para uma fila. (RabbitMQ ou Amazon SQS)


