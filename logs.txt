Atualização do Maven na VDI
Created by Paula, Moises, last updated by De Abreu, Vinicius on Jan 07, 2026  3 minute read
Devido a versão encontrada na VDI ser uma antiga, se faz necessário a atualização da mesma, pois alguns plugins do maven que são utilizados nos projeto necessitam da versão mais recente.

Assim, segue os passos necessários.

1 - Desinstalar a versão antiga, e dê "yes" quando solicitado: 



$ sudo yum remove maven
2 - Entrar no site do maven e realizar download: https://dlcdn.apache.org/maven/maven-3/ (selecione a versão mais nova, entre na pasta binaries e baixe o arquivo com final bin.tar.gz)

3 - Entre pelo terminal na pasta opt



$ cd /opt
4 - Pelo terminal, crie uma pasta maven:



$ sudo mkdir maven && sudo chmod 755 maven
5 - Entre na pasta maven:



$ cd maven
6 - Realize um copy do arquivo apache-maven-3.9.12-bin.tar.gz para dentro desta pasta: 



$ sudo cp ~/Downloads/apache-maven-3.9.12-bin.tar.gz ./ && sudo chmod 755 apache-maven-3.9.12-bin.tar.gz
7 - Descompacte o arquivo: 



$ sudo tar -xvzf apache-maven-3.9.12-bin.tar.gz && sudo chmod 755 apache-maven-3.9.12 -R
8 - Execute o comando para incluir as variáveis para execução no terminal: 



$ echo 'export MAVEN_HOME=/opt/maven/apache-maven-3.9.12' >> ~/.bashrc && echo 'export PATH=$MAVEN_HOME/bin:$PATH' >> ~/.bashrc
10 - Baixe este arquivo settings.xml e inclua na pasta /opt/maven/apache-maven-3.9.12/conf/. Clique no link: settings.xml

11 - Copie para dentro de conf do maven:



$ sudo cp ~/Downloads/settings.xml /opt/maven/apache-maven-3.9.12/conf/settings.xml && sudo chmod 755 /opt/maven/apache-maven-3.9.12/conf/settings.xml \
&& sudo cp /opt/maven/apache-maven-3.9.12/conf/settings.xml /opt/maven/apache-maven-3.9.12/conf/settings_bkp.xml
12 - Baixe o certificado do nexus e inclua no cacerts da JVM. Clique para baixar: _.devsecops-paas-prd.br.experian.eeca

13 - Importe para dentro da JVM (executar dentro da pasta na qual o certificado foi baixado, por padrão é a Downloads):



$ sudo keytool -import -alias nexus.devsecops-paas-prd.br.experian.eeca -keystore /usr/lib/jvm/java-21-zulu-openjdk-ca/lib/security/cacerts -file _.devsecops-paas-prd.br.experian.eeca
Caso soliicite senha apra instalar o certificado utilize: changeit

14 - Abra um novo terminal e execute o comando para verificar a versão do maven, o resultado deve ser este:



$ mvn --version
Apache Maven 3.9.12 (5f519b97e944483d878815739f519b2eade0a91d)
Maven home: /opt/maven/apache-maven-3.9.12
Java version: 21.0.7, vendor: Azul Systems, Inc., runtime: /usr/lib/jvm/java-21-zulu-openjdk-ca
Default locale: en_US, platform encoding: UTF-8
OS name: "linux", version: "4.18.0-553.50.1.el8_10.x86_64", arch: "amd64", family: "unix"


OBSERVAÇÃO: É importante fechar e abrir novamente qualquer ferramenta que tem alguma interação com o maven.

Para a execução do eConsig via Maven:

O eConsig possui uma dependência com o nodejs para poder baixar algumas libs de laytout, porém alguns tem enfrentado problemas de certificado na execução do maven quando este tenta baixar o node. Se enfrentar esse probema, realize o import do certificado em sua JVM:



Baixe o certificado do site https://nodejs.org/



Para saber mais como baixar um certificado


Execute o comando abaixo para importar o certificado na sua JVM:



$ sudo keytool -import -alias nodejs.org -keystore /usr/lib/jvm/java-21-zulu-openjdk-ca/lib/security/cacerts -file ~/Downloads/nodejs.org 
Caso o certificado expire, baixe o certificado novamente seguindo as instruções acima, porém, rode esta linha antes de importá-lo:



$ sudo keytool -delete -alias nodejs.org -keystore "/usr/lib/jvm/java-21-zulu-openjdk-ca/lib/security/cacerts"
Configuração no VSCODE:
Para que o maven fique configurado corretamente no VSCODE, necessário apontar o arquivo nas configurações. 

Abra as configurações do VSCODE e busque por maven.

Aponte o arquivo /opt/maven/apache-maven-3.9.12/conf/settings.xml nos campos:





