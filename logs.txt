# ==========================================
# üè¢ APLICA√á√ÉO SPRING BOOT
# ==========================================
spring.application.name=experian-pme-bfm-receivables-anticipation-domain-services
spring.main.allow-bean-definition-overriding=true
spring.cloud.compatibility-verifier.enabled=false

# üîß CORRE√á√ÉO DEFINITIVA: Desabilitar completamente observabilidade
spring.application.admin.enabled=false

# ==========================================
# üåê CONFIGURA√á√ïES API ANTECIPA
# ==========================================
api.antecipa.uri=https://api.anticipation.sand.antecipa.com/v1
api.antecipa.auth.uri=https://api.auth.sand.antecipa.com/v1
api.antecipa.auth.basic=MjM2Y2VhOGEtNzBlMS03MGMzLWM1OGQtODRiMTFmNTI3NmNhOjI5NGZmMzAwLTIyMTAtNDU3YS1iODIyLWJkNGM1ZDIwY2ZmZA==
api.antecipa.default-capital-source=58408679000132

# ==========================================
# üóÑÔ∏è CONFIGURA√á√ïES MONGODB
# ==========================================
spring.data.mongodb.uri=mongodb://localhost:27017/buzz_onboarding_test
spring.data.mongodb.database=buzz_onboarding_test
spring.data.mongodb.auto-index-creation=true
spring.data.mongodb.connection-timeout=10000
spring.data.mongodb.socket-timeout=10000
spring.data.mongodb.server-selection-timeout=10000

# Desabilitar JPA
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration,org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration

# ==========================================
# üîí CONFIGURA√á√ïES DE SEGURAN√áA (DESABILITADAS)
# ==========================================
spring.security.enabled=false
experian.security.enabled=false
experian.iam.enabled=false

# ==========================================
# üñ•Ô∏è CONFIGURA√á√ïES DO SERVIDOR
# ==========================================
server.tomcat.mbeanregistry.enabled=true
server.tomcat.threads.max=200

# ==========================================
# üìä CONFIGURA√á√ïES ACTUATOR (SEM OBSERVABILIDADE)
# ==========================================
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=ALWAYS

# üîß CORRE√á√ÉO DEFINITIVA: Desabilitar COMPLETAMENTE tracing e observabilidade
management.tracing.enabled=false
management.otlp.tracing.enabled=false
management.zipkin.tracing.enabled=false
management.otlp.metrics.export.enabled=false
management.metrics.export.otlp.enabled=false
management.observations.enabled=false
management.metrics.enabled=false

# üîß CORRE√á√ÉO DEFINITIVA: OpenTelemetry completamente desabilitado
otel.sdk.disabled=true
otel.javaagent.enabled=false
otel.instrumentation.spring-boot.enabled=false
otel.instrumentation.spring-webmvc.enabled=false
otel.instrumentation.feign.enabled=false
otel.instrumentation.micrometer.enabled=false
otel.traces.exporter=none
otel.metrics.exporter=none
otel.logs.exporter=none

# ==========================================
# üîÑ CIRCUIT BREAKER
# ==========================================
resilience4j.circuitbreaker.instances.AntecipaAuthClient.sliding-window-type=COUNT_BASED
resilience4j.circuitbreaker.instances.AntecipaAuthClient.sliding-window-size=5
resilience4j.circuitbreaker.instances.AntecipaAuthClient.minimum-number-of-calls=3
resilience4j.circuitbreaker.instances.AntecipaAuthClient.failure-rate-threshold=60
resilience4j.circuitbreaker.instances.AntecipaAuthClient.wait-duration-in-open-state=30s

resilience4j.circuitbreaker.instances.AntecipaClient.sliding-window-type=COUNT_BASED
resilience4j.circuitbreaker.instances.AntecipaClient.sliding-window-size=5
resilience4j.circuitbreaker.instances.AntecipaClient.minimum-number-of-calls=5
resilience4j.circuitbreaker.instances.AntecipaClient.failure-rate-threshold=50
resilience4j.circuitbreaker.instances.AntecipaClient.wait-duration-in-open-state=20s

# ==========================================
# üîÅ RETRY
# ==========================================
resilience4j.retry.instances.AntecipaAuthClient.max-attempts=3
resilience4j.retry.instances.AntecipaAuthClient.wait-duration=1000ms
resilience4j.retry.instances.AntecipaAuthClient.retry-exceptions=feign.FeignException$ServiceUnavailable,feign.FeignException$InternalServerError,java.io.IOException

resilience4j.retry.instances.AntecipaClient.max-attempts=3
resilience4j.retry.instances.AntecipaClient.wait-duration=500ms
resilience4j.retry.instances.AntecipaClient.retry-exceptions=feign.FeignException$ServiceUnavailable,feign.FeignException$InternalServerError,java.io.IOException

# ==========================================
# üåê CONFIGURA√á√ïES FEIGN
# ==========================================
feign.httpclient.enabled=false
feign.okhttp.enabled=true
feign.client.config.default.connect-timeout=10000
feign.client.config.default.read-timeout=30000

# ==========================================
# üìù CONFIGURA√á√ïES DE LOGGING
# ==========================================
logging.level.org.springframework.data.mongodb=INFO
logging.level.com.mongodb=WARN
logging.level.io.opentelemetry=OFF
logging.level.io.micrometer=OFF
logging.level.br.com.experian.observability=OFF
logging.level.br.com.experian.spring.security=OFF
logging.level.br.com.experian.pme.logging=WARN
logging.level.br.com.experian.buzz.infrastructure.adapter.AntecipaAuthAdapter=INFO
logging.level.br.com.experian.buzz.infrastructure.adapter.AntecipaOnboardingAdapter=INFO

# ==========================================
# üîß CONFIGURA√á√ïES ADICIONAIS
# ==========================================
api.wikipedia.uri=https://pt.wikipedia.org
